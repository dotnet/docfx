version: 1.0.{build}-{APPVEYOR_REPO_BRANCH}
environment:
  nodejs_version: "7"
branches:
  only:
    - master
    - dev
image: Visual Studio 2017
init:
  - git config --global core.autocrlf input
  - ps: Install-Product node $env:nodejs_version
install:
  - ps: cd .\tools\Deployment
  - node --version
  - npm install
  - npm install glob
  - node .\node_modules\typescript\bin\tsc
build_script:
  - node .\node_modules\gulp\bin\gulp.js %APPVEYOR_REPO_BRANCH%
