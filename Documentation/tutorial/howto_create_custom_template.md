How-to: Create Custom Templates
===============================
Custom Templates are organized to be a zip package or a folder. The name of the zip package or the folder is considered as the template name. 

Currently `docfx` supports [Mustache](http://mustache.github.io) syntax as the templating language. Template files end with `.tmpl` extension, and multiple template files are allowed. The default template file is named to `default[.<extension>].tmpl`, `[.<extension>]` defines the extension of the transformed file, and could be omitted if the transformed file has no extension. The naming convention of the template file is `<type>[.<extension>].tmpl`, `<type>` defines the *Type* of the model the template file is defined to transform. If no matching *Type* is found, `docfx` fallbacks to use the `default[.<extension>].tmpl. If none of the files exists, `docfx` will not do the transformation.

By default, `docfx` uses the template file and applies model to generate output files. Model can also be preprocessed before applying template as described in detail in Section 3.

### 1. What is the model used for the template?
The model used for the template is exactly the one defined in *YAML* file generated by `docfx`. Some prevserved properties are also provided as described in the following table:

Name | Description
-----| ----
_pageTitle | The title of current page
_title | The title of the whole document
_locales | Array in JSON format. The list of locales supported for current page.
_ext | The extension of the generated page
_lang | The programming language of the page
_name | The name of the page
_description | The description of the page
_rel | The relative path of the folder of the generated page to the root folder of the generated document
_navPath | The relative path of the root TOC file, if exists
_navRel | The relative path of the folder of the root TOC file to the root folder of the generated document, if exists
_tocPath | The relative path of the TOC file, if exists
_tocRel | The relative path of the folder of the TOC file to the root folder of the generated document, if exists

### 2. What is the extension of the output file?
The extension of the output file is defined by the naming of the template file `<type>[.<extension>].tmpl`. For example, with a template naming `markdown.md.tmpl`, the extension will be `.md`; with a template naming `markdown.tmpl`, the extension will be ``.

### 3. How to transform the model before applying it to the template?
If a `default.js` file exists in the same folder as the template file, this javascript file will be evalated. `docfx` tries to evaluate the javascript file and call `transform` function afterwards. `docfx` considers `transform` function to be in the following syntax:
```javascript
function transform(model, _attrs) {}
```
`model` is the JSON format model as extracted from *YAML* file, and `_attrs` is the JSON format model for the preserved attributes as defined in Section 1.

### 4. How to include resource files in the template?
Resource files can be included in the template with the following syntax:
```mustache
{{!include('<file name>')}}
```
`docfx` will copy these dependencies to output folder preserving its relative path to the template file.