---
# Draft run learn post validation
repos:
  https://github.com/learn/learn-pr:
  - files:
     .openpublishing.publish.config.json: |
        {
          "docsets_to_publish": [
          { 
            "build_source_folder": "learn-pr",
            "customized_tasks": {
              "docset_postbuild": [
                "_dependentPackages/CommonPlugins/tools/TripleCrownValidation.ps1"
              ]
            }
          }]
        }
     learn-pr/docfx.json: '{}'
outputs:
  learn-pr/.errors.log: |
    {"message_severity":"error", "log_item_type":"user", "code":"TripleCrown_Unimplemented"}
  learn-pr/hierarchy.json: |
    {
      "achievements":[],
      "invalid_items":[],
      "items":[]
    }
  learn-pr/full-dependent-list.txt.bak:
  learn-pr/full-dependent-list.txt.updated:
---
# Can generate hierarchy
legacy: true
noDryRun: true
repos:
  https://github.com/learn/learn-pr:
  - files:
     .openpublishing.publish.config.json: |
        {
          "docsets_to_publish": [
          { 
            "build_source_folder": ".",
            "customized_tasks": {
              "docset_postbuild": [
                "_dependentPackages/CommonPlugins/tools/TripleCrownValidation.ps1"
              ]
            }
          }]
        }
     docfx.json: '{}'
     # NOTICE: these input data are created based on real output data, for not to write too much template logic in test case
     path.yml: |
       ### YamlMime:LearningPath
       serviceData: "{\"uid\": \"learning-path\",\"achievement\":{\"uid\":\"achievement1\",\"type\":\"trophy\"},\"modules\":[\"module\"]}"
     module.yml: |
       ### YamlMime:Module
       serviceData: "{\"uid\": \"module\",\"achievement\":{\"uid\":\"achievement2\",\"type\":\"badge\"},\"units\":[\"unit\"]}"
     unit.yml: |
       ### YamlMime:ModuleUnit
       metadata:
         uid: unit
       serviceData: "{\"uid\": \"unit\",\"durationInMinutes\":3}"
     achievement.yml: |
       ### YamlMime:Achievement
         uid: achievement
     _themes/ContentTemplate/schemas/LearningPath.schema.json: '{}'
     _themes/ContentTemplate/LearningPath.html.primary.tmpl:
     _themes/ContentTemplate/schemas/Module.schema.json: '{}'
     _themes/ContentTemplate/Module.html.primary.tmpl:
     _themes/ContentTemplate/schemas/ModuleUnit.schema.json: '{}'
     _themes/ContentTemplate/ModuleUnit.html.primary.tmpl:
     _themes/ContentTemplate/schemas/Achievement.schema.json:
outputs:
  achievement.json:
  path.mta.json:
  path.raw.page.json:
  module.mta.json:
  module.raw.page.json:
  unit.mta.json:
  unit.raw.page.json:
  achievement.json:
  full-dependent-list.txt:
  full-dependent-list.txt.bak:
  full-dependent-list.txt.updated:
  hierarchy.json: |
    {
      "achievements": [{"uid": "achievement2"},{"uid": "achievement1"}],
      "invalid_items": [],
      "items":[{"asset_id":"path"},{"asset_id":"module"},{"asset_id":"unit"}]
    }
  .errors.log: |
    {"message_severity":"error", "log_item_type":"user", "code":"TripleCrown_Unimplemented"}
