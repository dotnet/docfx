---
# Basic lsp test
os: windows
inputs:
  docfx.yml:
  a.md: |
    # Heading
    Content
languageServer:
  - notification: "textDocument/didOpen"
    params:
      {
        "textDocument": {
          "uri": "file:///{DOCSET_PATH}/a.md",
          "text": "Content"
        }
      }
  - expectNotification: "window/showMessage"
    params:
      {
        "type": 3,
        "message": "File open detected on file `a.md` with content 'Content'"
      }
  - notification: "textDocument/didChange"
    params:
      {
        "textDocument": {
          "uri": "file:///{DOCSET_PATH}/a.md",
        },
        "contentChanges": [
          { "text": "New Content" }
        ]
      }
  - expectNotification: "window/showMessage"
    params:
      { "type": 3, "message": "File change detected on file `a.md` with latest content 'New Conten...'" }
