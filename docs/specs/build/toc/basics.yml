---
# 1. Normal file reference
inputs:
  docfx.yml: |
    content:
      include:
        - docs/**/*.md
        - docs/**/*.yml
  index.md:
  docs/toc.md: |
    # [Index Reference](index.md)
    ## Existing File Reference
    ### [Reference Normal File 1](n1.md)
    ### [Reference Normal File 2](../index.md)
    ### [Reference Normal File 3](f1/n1.md?branch=master#row=4)
    ### [Reference Normal File 4](~/docs/n1.md)
  docs/index.md:
  docs/n1.md:
  docs/f1/n1.md:
outputs:
  index.json: |
    { "content": "" }
  docs/index.json: |
    { "content": "" }
  docs/n1.json: |
    { "content": "" }
  docs/f1/n1.json: |
    { "content": "" }
  docs/toc.json: |
    {  
      "items":[  
          {  
            "children":[  
                {  
                  "children":[  
                      {  
                        "toc_title":"Reference Normal File 1",
                        "href":"n1"
                      },
                      {  
                        "toc_title":"Reference Normal File 2",
                        "href":"../"
                      },
                      {  
                        "toc_title":"Reference Normal File 3",
                        "href":"f1/n1#row=4?branch=master"
                      },
                      {  
                        "toc_title":"Reference Normal File 4",
                        "href":"n1"
                      }
                  ],
                  "toc_title":"Existing File Reference"
                }
            ],
            "toc_title":"Index Reference",
            "href":"."
          }
      ]
    }
---
# 2. No-existing file reference
inputs:
  docfx.yml: |
    content:
      include:
        - docs/**/*.md
        - docs/**/*.yml
  docs/index.md:
  docs/toc.md: |
    # [Index Reference](index.md)
    ## No Existing File Reference
    ### [Reference No-Existing File 1](no-existing.md)
    ### [Reference No-Existing File 2](no-existing.system.md)
    ### [Reference No-Existing File 3](../no-existing.md)
    ### [Reference No-Existing File 4](~/docs/no-existing.md)
outputs:
  docs/index.json: |
    { "content": "" }
  docs/toc.json: |
    {  
      "items":[  
          {  
            "children":[  
                {  
                  "children":[  
                      {  
                        "toc_title":"Reference No-Existing File 1",
                        "href":"no-existing.md"
                      },
                      {  
                        "toc_title":"Reference No-Existing File 2",
                        "href":"no-existing.system.md"
                      },
                      {  
                        "toc_title":"Reference No-Existing File 3",
                        "href":"../no-existing.md"
                      },
                      {  
                        "toc_title":"Reference No-Existing File 4",
                        "href":"~/docs/no-existing.md"
                      }
                  ],
                  "toc_title":"No Existing File Reference"
                }
            ],
            "toc_title":"Index Reference",
            "href":"."
          }
      ]
    }
---
# 3. Absolute file reference
inputs:
  docfx.yml: |
    content:
      include:
        - docs/**/*.md
        - docs/**/*.yml
  docs/index.md:
  docs/toc.md: |
    # [Index Reference](index.md)
    ## Absolute File Reference
    ### [Reference Absolute path 1](https://worldready.cloudapp.net/Styleguide/Read?id=2700&topicid=26906)
    ### [Reference Absolute Path 2](/help/style/style-how-to-accessibility?toc=/help/contribute/TOC.json&bc=/help/breadcrumb/toc.json)
outputs:
  docs/index.json: |
    { "content": "" }
  docs/toc.json: |
    {  
      "items":[  
          {  
            "children":[  
                {  
                  "children":[  
                      {  
                        "toc_title":"Reference Absolute path 1",
                        "href":"https://worldready.cloudapp.net/styleguide/read?id=2700&topicid=26906"
                      },
                      {  
                        "toc_title":"Reference Absolute Path 2",
                        "href":"/help/style/style-how-to-accessibility?toc=/help/contribute/toc.json&bc=/help/breadcrumb/toc.json"
                      }
                  ],
                  "toc_title":"Absolute File Reference"
                }
            ],
            "toc_title":"Index Reference",
            "href":"."
          }
      ]
    }
---
# 4. Nested TOC file reference
# TODO: filter out referenced toc outputs
inputs:
  docfx.yml: |
    content:
      include:
        - docs/**/*.md
        - docs/**/*.yml
  docs/toc.md: |
    # [Index Reference](index.md)
    ## TOC Reference
    ## [Reference TOC File 1](f1/toc.md)
    ## [Reference TOC File 2](../docs/f1/toc.md)
    ## [Reference TOC File 3](~/docs/f1/toc.md)
    ## [Reference TOC File 4](~/docs/f2/toc.yml)
  docs/index.md:
  docs/n1.md:
  docs/f1/toc.md: |
    # [Index Reference](index.md)
    ## [Reference Normal File 1](n1.md)
    ## [Reference Normal File 2](../n1.md)  

    ## [Reference No-Existing File 1](no-existing.md)

    ## [Reference TOC File 1](../f2/)
    ## [Reference TOC File 2](../f1/f11/)
  docs/f1/n1.md:
  docs/f1/index.md:
  docs/f2/toc.yml: |
    - name: Normal File Reference 1
      href: n1.md
    - name: Normal File Reference 2
      href: ~/docs/n1.md
    - name: Normal File Reference 3
      href: ../n1.md
      items:
      - name: Toc References
        items:
        - name: Toc Reference 1
          href: ../f1/f11/toc.md
        - name: Toc Reference 2
          href: ../f1/f11/
  docs/f2/n1.md:
  docs/f1/f11/toc.md: |
    # [Index Reference](index.md)
    ## [Reference Normal File 1](n1.md)
    ## [Reference Normal File 2](../n1.md) 
  docs/f1/f11/index.md:
  docs/f1/f11/n1.md:
outputs:
  docs/index.json: |
    { "content": "" }
  docs/n1.json: |
    { "content": "" }
  docs/f1/n1.json: |
    { "content": "" }
  docs/f1/index.json: |
    { "content": "" }
  docs/f1/f11/index.json: |
    { "content": "" }
  docs/f1/f11/n1.json: |
    { "content": "" }
  docs/f2/n1.json: |
    { "content": "" }
  docs/toc.json: |
    {  
      "items":[  
          {  
            "children":[  
                {  
                  "toc_title":"TOC Reference"
                },
                {  
                  "children":[  
                      {  
                        "children":[  
                            {  
                              "toc_title":"Reference Normal File 1",
                              "href":"f1/n1"
                            },
                            {  
                              "toc_title":"Reference Normal File 2",
                              "href":"n1"
                            },
                            {  
                              "toc_title":"Reference No-Existing File 1",
                              "href":"no-existing.md"
                            },
                            {  
                              "children":[  
                                  {  
                                    "toc_title":"Normal File Reference 1",
                                    "href":"f2/n1"
                                  },
                                  {  
                                    "toc_title":"Normal File Reference 2",
                                    "href":"n1"
                                  },
                                  {  
                                    "children":[  
                                        {  
                                          "children":[  
                                              {  
                                                "children":[  
                                                    {  
                                                      "children":[  
                                                          {  
                                                            "toc_title":"Reference Normal File 1",
                                                            "href":"f1/f11/n1"
                                                          },
                                                          {  
                                                            "toc_title":"Reference Normal File 2",
                                                            "href":"f1/n1"
                                                          }
                                                      ],
                                                      "toc_title":"Index Reference",
                                                      "href":"f1/f11/"
                                                    }
                                                ],
                                                "toc_title":"Toc Reference 1"
                                              },
                                              {  
                                                "children":[  
                                                    {  
                                                      "children":[  
                                                          {  
                                                            "toc_title":"Reference Normal File 1",
                                                            "href":"f1/f11/n1"
                                                          },
                                                          {  
                                                            "toc_title":"Reference Normal File 2",
                                                            "href":"f1/n1"
                                                          }
                                                      ],
                                                      "toc_title":"Index Reference",
                                                      "href":"f1/f11/"
                                                    }
                                                ],
                                                "toc_title":"Toc Reference 2"
                                              }
                                          ],
                                          "toc_title":"Toc References"
                                        }
                                    ],
                                    "toc_title":"Normal File Reference 3",
                                    "href":"n1"
                                  }
                              ],
                              "toc_title":"Reference TOC File 1"
                            },
                            {  
                              "children":[  
                                  {  
                                    "children":[  
                                        {  
                                          "toc_title":"Reference Normal File 1",
                                          "href":"f1/f11/n1"
                                        },
                                        {  
                                          "toc_title":"Reference Normal File 2",
                                          "href":"f1/n1"
                                        }
                                    ],
                                    "toc_title":"Index Reference",
                                    "href":"f1/f11/"
                                  }
                              ],
                              "toc_title":"Reference TOC File 2"
                            }
                        ],
                        "toc_title":"Index Reference",
                        "href":"f1/"
                      }
                  ],
                  "toc_title":"Reference TOC File 1"
                },
                {  
                  "children":[  
                      {  
                        "children":[  
                            {  
                              "toc_title":"Reference Normal File 1",
                              "href":"f1/n1"
                            },
                            {  
                              "toc_title":"Reference Normal File 2",
                              "href":"n1"
                            },
                            {  
                              "toc_title":"Reference No-Existing File 1",
                              "href":"no-existing.md"
                            },
                            {  
                              "children":[  
                                  {  
                                    "toc_title":"Normal File Reference 1",
                                    "href":"f2/n1"
                                  },
                                  {  
                                    "toc_title":"Normal File Reference 2",
                                    "href":"n1"
                                  },
                                  {  
                                    "children":[  
                                        {  
                                          "children":[  
                                              {  
                                                "children":[  
                                                    {  
                                                      "children":[  
                                                          {  
                                                            "toc_title":"Reference Normal File 1",
                                                            "href":"f1/f11/n1"
                                                          },
                                                          {  
                                                            "toc_title":"Reference Normal File 2",
                                                            "href":"f1/n1"
                                                          }
                                                      ],
                                                      "toc_title":"Index Reference",
                                                      "href":"f1/f11/"
                                                    }
                                                ],
                                                "toc_title":"Toc Reference 1"
                                              },
                                              {  
                                                "children":[  
                                                    {  
                                                      "children":[  
                                                          {  
                                                            "toc_title":"Reference Normal File 1",
                                                            "href":"f1/f11/n1"
                                                          },
                                                          {  
                                                            "toc_title":"Reference Normal File 2",
                                                            "href":"f1/n1"
                                                          }
                                                      ],
                                                      "toc_title":"Index Reference",
                                                      "href":"f1/f11/"
                                                    }
                                                ],
                                                "toc_title":"Toc Reference 2"
                                              }
                                          ],
                                          "toc_title":"Toc References"
                                        }
                                    ],
                                    "toc_title":"Normal File Reference 3",
                                    "href":"n1"
                                  }
                              ],
                              "toc_title":"Reference TOC File 1"
                            },
                            {  
                              "children":[  
                                  {  
                                    "children":[  
                                        {  
                                          "toc_title":"Reference Normal File 1",
                                          "href":"f1/f11/n1"
                                        },
                                        {  
                                          "toc_title":"Reference Normal File 2",
                                          "href":"f1/n1"
                                        }
                                    ],
                                    "toc_title":"Index Reference",
                                    "href":"f1/f11/"
                                  }
                              ],
                              "toc_title":"Reference TOC File 2"
                            }
                        ],
                        "toc_title":"Index Reference",
                        "href":"f1/"
                      }
                  ],
                  "toc_title":"Reference TOC File 2"
                },
                {  
                  "children":[  
                      {  
                        "children":[  
                            {  
                              "toc_title":"Reference Normal File 1",
                              "href":"f1/n1"
                            },
                            {  
                              "toc_title":"Reference Normal File 2",
                              "href":"n1"
                            },
                            {  
                              "toc_title":"Reference No-Existing File 1",
                              "href":"no-existing.md"
                            },
                            {  
                              "children":[  
                                  {  
                                    "toc_title":"Normal File Reference 1",
                                    "href":"f2/n1"
                                  },
                                  {  
                                    "toc_title":"Normal File Reference 2",
                                    "href":"n1"
                                  },
                                  {  
                                    "children":[  
                                        {  
                                          "children":[  
                                              {  
                                                "children":[  
                                                    {  
                                                      "children":[  
                                                          {  
                                                            "toc_title":"Reference Normal File 1",
                                                            "href":"f1/f11/n1"
                                                          },
                                                          {  
                                                            "toc_title":"Reference Normal File 2",
                                                            "href":"f1/n1"
                                                          }
                                                      ],
                                                      "toc_title":"Index Reference",
                                                      "href":"f1/f11/"
                                                    }
                                                ],
                                                "toc_title":"Toc Reference 1"
                                              },
                                              {  
                                                "children":[  
                                                    {  
                                                      "children":[  
                                                          {  
                                                            "toc_title":"Reference Normal File 1",
                                                            "href":"f1/f11/n1"
                                                          },
                                                          {  
                                                            "toc_title":"Reference Normal File 2",
                                                            "href":"f1/n1"
                                                          }
                                                      ],
                                                      "toc_title":"Index Reference",
                                                      "href":"f1/f11/"
                                                    }
                                                ],
                                                "toc_title":"Toc Reference 2"
                                              }
                                          ],
                                          "toc_title":"Toc References"
                                        }
                                    ],
                                    "toc_title":"Normal File Reference 3",
                                    "href":"n1"
                                  }
                              ],
                              "toc_title":"Reference TOC File 1"
                            },
                            {  
                              "children":[  
                                  {  
                                    "children":[  
                                        {  
                                          "toc_title":"Reference Normal File 1",
                                          "href":"f1/f11/n1"
                                        },
                                        {  
                                          "toc_title":"Reference Normal File 2",
                                          "href":"f1/n1"
                                        }
                                    ],
                                    "toc_title":"Index Reference",
                                    "href":"f1/f11/"
                                  }
                              ],
                              "toc_title":"Reference TOC File 2"
                            }
                        ],
                        "toc_title":"Index Reference",
                        "href":"f1/"
                      }
                  ],
                  "toc_title":"Reference TOC File 3"
                },
                {  
                  "children":[  
                      {  
                        "toc_title":"Normal File Reference 1",
                        "href":"f2/n1"
                      },
                      {  
                        "toc_title":"Normal File Reference 2",
                        "href":"n1"
                      },
                      {  
                        "children":[  
                            {  
                              "children":[  
                                  {  
                                    "children":[  
                                        {  
                                          "children":[  
                                              {  
                                                "toc_title":"Reference Normal File 1",
                                                "href":"f1/f11/n1"
                                              },
                                              {  
                                                "toc_title":"Reference Normal File 2",
                                                "href":"f1/n1"
                                              }
                                          ],
                                          "toc_title":"Index Reference",
                                          "href":"f1/f11/"
                                        }
                                    ],
                                    "toc_title":"Toc Reference 1"
                                  },
                                  {  
                                    "children":[  
                                        {  
                                          "children":[  
                                              {  
                                                "toc_title":"Reference Normal File 1",
                                                "href":"f1/f11/n1"
                                              },
                                              {  
                                                "toc_title":"Reference Normal File 2",
                                                "href":"f1/n1"
                                              }
                                          ],
                                          "toc_title":"Index Reference",
                                          "href":"f1/f11/"
                                        }
                                    ],
                                    "toc_title":"Toc Reference 2"
                                  }
                              ],
                              "toc_title":"Toc References"
                            }
                        ],
                        "toc_title":"Normal File Reference 3",
                        "href":"n1"
                      }
                  ],
                  "toc_title":"Reference TOC File 4"
                }
            ],
            "toc_title":"Index Reference",
            "href":"."
          }
      ]
    }
  docs/f1/toc.json: |
    {  
       "items":[  
          {  
             "children":[  
                {  
                   "toc_title":"Reference Normal File 1",
                   "href":"n1"
                },
                {  
                   "toc_title":"Reference Normal File 2",
                   "href":"../n1"
                },
                {  
                   "toc_title":"Reference No-Existing File 1",
                   "href":"no-existing.md"
                },
                {  
                   "children":[  
                      {  
                         "toc_title":"Normal File Reference 1",
                         "href":"../f2/n1"
                      },
                      {  
                         "toc_title":"Normal File Reference 2",
                         "href":"../n1"
                      },
                      {  
                         "children":[  
                            {  
                               "children":[  
                                  {  
                                     "children":[  
                                        {  
                                           "children":[  
                                              {  
                                                 "toc_title":"Reference Normal File 1",
                                                 "href":"f11/n1"
                                              },
                                              {  
                                                 "toc_title":"Reference Normal File 2",
                                                 "href":"n1"
                                              }
                                           ],
                                           "toc_title":"Index Reference",
                                           "href":"f11/"
                                        }
                                     ],
                                     "toc_title":"Toc Reference 1"
                                  },
                                  {  
                                     "children":[  
                                        {  
                                           "children":[  
                                              {  
                                                 "toc_title":"Reference Normal File 1",
                                                 "href":"f11/n1"
                                              },
                                              {  
                                                 "toc_title":"Reference Normal File 2",
                                                 "href":"n1"
                                              }
                                           ],
                                           "toc_title":"Index Reference",
                                           "href":"f11/"
                                        }
                                     ],
                                     "toc_title":"Toc Reference 2"
                                  }
                               ],
                               "toc_title":"Toc References"
                            }
                         ],
                         "toc_title":"Normal File Reference 3",
                         "href":"../n1"
                      }
                   ],
                   "toc_title":"Reference TOC File 1"
                },
                {  
                   "children":[  
                      {  
                         "children":[  
                            {  
                               "toc_title":"Reference Normal File 1",
                               "href":"f11/n1"
                            },
                            {  
                               "toc_title":"Reference Normal File 2",
                               "href":"n1"
                            }
                         ],
                         "toc_title":"Index Reference",
                         "href":"f11/"
                      }
                   ],
                   "toc_title":"Reference TOC File 2"
                }
             ],
             "toc_title":"Index Reference",
             "href":"."
          }
       ]
    }
  docs/f2/toc.json: |
    {  
       "items":[  
          {  
             "toc_title":"Normal File Reference 1",
             "href":"n1"
          },
          {  
             "toc_title":"Normal File Reference 2",
             "href":"../n1"
          },
          {  
             "children":[  
                {  
                   "children":[  
                      {  
                         "children":[  
                            {  
                               "children":[  
                                  {  
                                     "toc_title":"Reference Normal File 1",
                                     "href":"../f1/f11/n1"
                                  },
                                  {  
                                     "toc_title":"Reference Normal File 2",
                                     "href":"../f1/n1"
                                  }
                               ],
                               "toc_title":"Index Reference",
                               "href":"../f1/f11/"
                            }
                         ],
                         "toc_title":"Toc Reference 1"
                      },
                      {  
                         "children":[  
                            {  
                               "children":[  
                                  {  
                                     "toc_title":"Reference Normal File 1",
                                     "href":"../f1/f11/n1"
                                  },
                                  {  
                                     "toc_title":"Reference Normal File 2",
                                     "href":"../f1/n1"
                                  }
                               ],
                               "toc_title":"Index Reference",
                               "href":"../f1/f11/"
                            }
                         ],
                         "toc_title":"Toc Reference 2"
                      }
                   ],
                   "toc_title":"Toc References"
                }
             ],
             "toc_title":"Normal File Reference 3",
             "href":"../n1"
          }
       ]
    }
  docs/f1/f11/toc.json: |
    {  
       "items":[  
          {  
             "children":[  
                {  
                   "toc_title":"Reference Normal File 1",
                   "href":"n1"
                },
                {  
                   "toc_title":"Reference Normal File 2",
                   "href":"../n1"
                }
             ],
             "toc_title":"Index Reference",
             "href":"."
          }
       ]
    }
---
# 5. Topic href for normal reference
# just ignore it
inputs:
  docfx.yml: |
    content: docs/f1/toc.yml
  docs/f1/n1.md:
  docs/f1/toc.yml: |
    - name: normal file reference
      href: ~/docs/f1/n1.md
      topicHref: ~/docs/f1/index.md
outputs:
  docs/f1/n1.json:
  docs/f1/toc.json: |
    {  
       "items":[  
          {  
             "toc_title":"normal file reference",
             "href":"n1",
          }
       ]
    }
---
# 6. Topic href for toc reference
# replace href finally
inputs:
  docfx.yml: |
    content: docs/f1/toc.yml
  docs/f1/toc.yml: |
    - name: Toc Reference 1
      href: f11/toc.md
      topicHref: f11/n1.md
    - name: Toc Reference 2
      href: f11/
  docs/f1/f11/toc.md: |
    # [Index Reference](index.md)
  docs/f1/f11/index.md:
  docs/f1/f11/n1.md:
outputs:
  docs/f1/f11/n1.json:
  docs/f1/f11/index.json:
  docs/f1/toc.json: |
    {  
       "items":[  
          {  
             "children":[  
                {  
                   "toc_title":"Index Reference",
                   "href":"f11/"
                }
             ],
             "toc_title":"Toc Reference 1",
             "href":"f11/n1"
          },
          {  
             "children":[  
                {  
                   "toc_title":"Index Reference",
                   "href":"f11/"
                }
             ],
             "toc_title":"Toc Reference 2"
          }
       ]
    }
